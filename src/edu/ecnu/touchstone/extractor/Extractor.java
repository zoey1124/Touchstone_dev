// manage the whole pipeline 
// keep track of all query transform 
// use rule on each query